# CSS白飛び問題の修正

## 実装した修正内容

### 1. デバッグスイッチの追加
- サイドバーに「🔧 Debug: CSSを無効化」チェックボックスを追加
- 白飛びが発生している場合、このチェックをONにするとCSSを無効化して表示を確認可能

### 2. 白飛びの原因となっていた問題の修正

#### a) オーバーレイのz-index修正
- **変更前**: `.stApp::before` の `z-index: 0`
- **変更後**: `z-index: -1` に変更し、コンテンツの後ろに配置

#### b) メインコンテンツのz-index強化
- **変更前**: `.main .block-container` の `z-index: 1`
- **変更後**: `z-index: 10` に変更し、確実に前面に表示

#### c) ベース文字色の確保
- 全要素の文字色を `#111` に固定（白文字による見えなくなる問題を防止）

#### d) 装飾要素の非表示化
- `.decoration-1` と `.decoration-2` を `display: none` に変更
- 固定配置による表示問題を防止

#### e) オーバーレイの透明度調整
- **変更前**: `rgba(255, 255, 255, 0.85)` （85%の不透明度）
- **変更後**: `rgba(255, 255, 255, 0.75)` （75%の不透明度）に変更し、背景が見えやすく

### 3. デバッグモードの実装
- CSSを無効化した場合、最小限のスタイルのみ適用
- 警告メッセージを表示して、デバッグモードであることを明示

## 使用方法

### 白飛びが発生している場合

1. サイドバーの「🔧 Debug: CSSを無効化」チェックボックスをONにする
2. 表示が正常に戻るか確認
3. 正常に戻った場合 → CSSが原因と確定
4. チェックをOFFにして、段階的にCSSを有効化して原因を特定

### デプロイ後の確認

1. Streamlit Cloudでアプリを開く
2. 白飛びが発生しているか確認
3. 発生している場合、サイドバーでデバッグスイッチをON
4. 表示が戻るか確認

## 修正したファイル

- `app.py`: CSS適用ロジックとデバッグスイッチを追加

## 次のステップ

1. この変更をコミット・プッシュ
2. Streamlit Cloudで再起動
3. 表示を確認
4. まだ白飛びが発生する場合、デバッグスイッチでCSSを無効化して原因を特定



